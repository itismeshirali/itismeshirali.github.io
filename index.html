<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>shirali nigam</title>
  <meta name="description" content="shirali � technical, brutalist, swiss-style portfolio." />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=DM+Mono:wght@300;400;500&family=Sora:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <style>
    :root {
      --main-hue: 210;
      --accent-hue: 240;
      --bg: hsl(var(--main-hue) 35% 96%);
      --bg-2: hsl(var(--main-hue) 40% 92%);
      --ink: hsl(220 15% 10%);
      --ink-2: hsl(220 10% 30%);
      --accent: hsl(var(--accent-hue) 85% 45%);
      --accent-2: hsl(var(--accent-hue) 75% 58%);
      --border: hsl(var(--main-hue) 28% 75%);
      --glow: hsl(var(--accent-hue) 80% 60% / 0.25);
      --surface: white;
      --surface-2: rgba(255, 255, 255, 0.6);
      --surface-3: rgba(255, 255, 255, 0.3);
      --radius: 999px;
    }

    [data-theme="dark"] {
      --bg: hsl(var(--main-hue) 30% 12%);
      --bg-2: hsl(var(--main-hue) 32% 18%);
      --ink: hsl(0 0% 96%);
      --ink-2: hsl(0 0% 75%);
      --accent: hsl(var(--accent-hue) 90% 65%);
      --accent-2: hsl(var(--accent-hue) 85% 72%);
      --border: hsl(var(--main-hue) 25% 32%);
      --glow: hsl(var(--accent-hue) 85% 60% / 0.22);
      --surface: hsl(var(--main-hue) 26% 16%);
      --surface-2: hsl(var(--main-hue) 26% 18% / 0.7);
      --surface-3: hsl(var(--main-hue) 22% 12% / 0.5);
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; overflow: hidden; }
    body {
      margin: 0;
      color: var(--ink);
      font-family: "DM Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      text-rendering: optimizeLegibility;
      -webkit-font-smoothing: antialiased;
      background:
        radial-gradient(1200px 800px at 15% 10%, var(--bg-2), transparent 60%),
        radial-gradient(900px 700px at 85% 20%, hsl(var(--main-hue) 45% 94%), transparent 60%),
        linear-gradient(120deg, hsl(var(--main-hue) 30% 97%), hsl(var(--main-hue) 35% 95%));
    }

    [data-theme="dark"] body {
      background:
        radial-gradient(1200px 800px at 15% 10%, hsl(var(--main-hue) 28% 18%), transparent 60%),
        radial-gradient(900px 700px at 85% 20%, hsl(var(--main-hue) 26% 20%), transparent 60%),
        linear-gradient(120deg, hsl(var(--main-hue) 22% 10%), hsl(var(--main-hue) 26% 12%));
    }

    .film-grain {
      position: fixed;
      inset: 0;
      pointer-events: none;
      opacity: 0.12;
      background-image:
        linear-gradient(0deg, transparent 0%, rgba(0,0,0,0.04) 50%, transparent 100%),
        linear-gradient(90deg, rgba(255,255,255,0.03) 0%, transparent 50%, rgba(255,255,255,0.03) 100%);
      mix-blend-mode: soft-light;
      z-index: 1;
    }

    .nebula {
      position: fixed;
      inset: -20%;
      background:
        radial-gradient(500px 380px at 20% 30%, hsl(var(--main-hue) 60% 90% / 0.6), transparent 60%),
        radial-gradient(520px 420px at 80% 70%, hsl(var(--main-hue) 70% 88% / 0.5), transparent 60%);
      animation: drift 22s linear infinite;
      z-index: 0;
      pointer-events: none;
    }

    [data-theme="dark"] .nebula {
      background:
        radial-gradient(500px 380px at 20% 30%, hsl(var(--main-hue) 50% 30% / 0.35), transparent 60%),
        radial-gradient(520px 420px at 80% 70%, hsl(var(--main-hue) 55% 28% / 0.35), transparent 60%);
    }

    @keyframes drift {
      0% { transform: translate3d(0, 0, 0); }
      50% { transform: translate3d(-4%, 3%, 0); }
      100% { transform: translate3d(0, 0, 0); }
    }

    .scanlines {
      position: fixed;
      inset: 0;
      pointer-events: none;
      background: repeating-linear-gradient(
        to bottom,
        transparent,
        transparent 10px,
        rgba(0, 0, 0, 0.03) 11px
      );
      mix-blend-mode: multiply;
      opacity: 0.2;
      z-index: 1;
    }

    .wrap {
      max-width: 1100px;
      margin: 0 auto;
      padding: 36px 20px;
      position: relative;
      z-index: 2;
      height: 100svh;
      min-height: 100vh;
      display: grid;
      grid-template-rows: auto 1fr auto;
      gap: 14px;
    }

    header {
      display: grid;
      grid-template-columns: 1fr auto;
      align-items: center;
      gap: 20px;
    }

    h1 {
      font-family: "Sora", system-ui, sans-serif;
      font-size: clamp(2.2rem, 4.6vw, 3.6rem);
      font-weight: 700;
      letter-spacing: -0.03em;
      margin: 0 0 10px 0;
    }

    .subhead {
      font-size: clamp(0.9rem, 1.6vw, 1rem);
      color: var(--ink-2);
      max-width: 700px;
      line-height: 1.5;
    }

    .socials {
      display: flex;
      align-items: center;
      gap: 12px;
      justify-content: flex-end;
    }

    .socials a {
      color: var(--ink-2);
      border: 1px solid var(--border);
      width: 36px;
      height: 36px;
      display: grid;
      place-items: center;
      border-radius: 12px;
      background: var(--surface);
      transition: transform 150ms ease, color 150ms ease, border-color 150ms ease, box-shadow 150ms ease;
    }

    .socials a:hover {
      color: var(--accent);
      border-color: var(--accent);
      box-shadow: 0 12px 24px var(--glow);
      transform: translateY(-1px);
    }

    .socials svg { width: 18px; height: 18px; }

    a {
      color: var(--accent);
      text-decoration: underline;
      text-decoration-thickness: 2px;
      text-underline-offset: 3px;
      transition: color 150ms ease, background 150ms ease;
    }

    a:hover {
      color: var(--accent-2);
      background: linear-gradient(transparent 65%, hsl(var(--accent-hue) 90% 75% / 0.35));
    }

    .orbital {
      position: relative;
      height: 100%;
      min-height: 260px;
      border-radius: 32px;
      border: 1px solid var(--border);
      background:
        conic-gradient(from 120deg at 50% 50%, hsl(var(--accent-hue) 80% 70% / 0.06), transparent 35%, hsl(var(--accent-hue) 80% 70% / 0.08) 65%, transparent),
        linear-gradient(180deg, var(--surface-2), var(--surface-3));
      box-shadow: 0 30px 60px var(--glow);
      overflow: hidden;
    }

    .orbital::before,
    .orbital::after {
      content: "";
      position: absolute;
      inset: 20px;
      border: 1px dashed hsl(var(--main-hue) 35% 80%);
      border-radius: 26px;
      opacity: 0.35;
      pointer-events: none;
    }

    .orbital::after {
      inset: 60px;
      border-style: solid;
      opacity: 0.12;
    }

    .blob {
      position: absolute;
      width: clamp(120px, 18vw, 180px);
      height: clamp(120px, 18vw, 180px);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      background:
        radial-gradient(circle at 30% 30%, hsl(var(--main-hue) 90% 95%), white 55%),
        radial-gradient(circle at 70% 70%, hsl(var(--main-hue) 80% 88%), transparent 60%);
      box-shadow: 0 14px 28px var(--glow);
      display: grid;
      place-items: center;
      color: var(--ink);
      font-family: "Sora", system-ui, sans-serif;
      font-size: clamp(1rem, 2.4vw, 1.35rem);
      font-weight: 600;
      letter-spacing: 0.04em;
      transition: box-shadow 200ms ease, border-color 200ms ease;
      cursor: pointer;
      background-blend-mode: multiply;
      z-index: 2;
      will-change: transform;
      transform: translate3d(var(--tx, 0px), var(--ty, 0px), 0) scale(var(--s, 1));
    }

    [data-theme="dark"] .blob {
      background:
        radial-gradient(circle at 30% 30%, hsl(var(--main-hue) 25% 26%), hsl(var(--main-hue) 28% 18%) 55%),
        radial-gradient(circle at 70% 70%, hsl(var(--main-hue) 20% 20%), transparent 60%);
    }

    .blob span { pointer-events: none; }

    .blob:hover {
      --s: 1.06;
      box-shadow: 0 24px 40px var(--glow);
    }

    .blob.active {
      --s: 1.12;
      box-shadow: 0 28px 60px var(--glow);
      border-color: var(--accent);
      z-index: 2;
    }

    .panel {
      border: 1px solid var(--border);
      border-radius: 18px;
      background: var(--surface);
      padding: 18px 20px;
      box-shadow: 0 20px 40px var(--glow);
      display: none;
      position: absolute;
      inset: 8% 8%;
      max-height: 84%;
      overflow: auto;
      z-index: 6;
    }

    .panel.active { display: block; }

    .panel-head {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
      margin-bottom: 10px;
    }

    .panel-title {
      font-family: "Sora", system-ui, sans-serif;
      font-size: 1.05rem;
      letter-spacing: 0.08em;
      margin: 0;
    }

    .panel-close {
      border: 1px solid var(--border);
      background: transparent;
      color: var(--ink-2);
      font-family: inherit;
      font-size: 0.7rem;
      letter-spacing: 0.12em;
      padding: 6px 12px;
      border-radius: 999px;
      cursor: pointer;
    }

    .stack {
      display: grid;
      gap: 10px;
      color: var(--ink-2);
      line-height: 1.5;
      font-size: 0.88rem;
    }

    .stack p { margin: 0; }

    .stack p + p {
      border-top: 1px dashed var(--border);
      padding-top: 10px;
    }

    footer {
      color: var(--ink-2);
      font-size: 0.9rem;
      letter-spacing: 0.02em;
    }

    .mode-toggle {
      position: fixed;
      inset: auto 20px 20px auto;
      width: 36px;
      height: 36px;
      display: grid;
      place-items: center;
      color: var(--ink-2);
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 12px;
      pointer-events: auto;
      cursor: pointer;
      z-index: 3;
      transition: transform 150ms ease, color 150ms ease, border-color 150ms ease, box-shadow 150ms ease;
    }

    .mode-toggle:hover {
      color: var(--accent);
      border-color: var(--accent);
      box-shadow: 0 12px 24px var(--glow);
      transform: translateY(-1px);
    }

    .mode-toggle svg { width: 18px; height: 18px; }

    .mode-toggle .icon-moon { display: none; }
    [data-theme="dark"] .mode-toggle .icon-sun { display: none; }
    [data-theme="dark"] .mode-toggle .icon-moon { display: block; }

    .focus-light {
      position: fixed;
      width: 360px;
      height: 360px;
      border-radius: 50%;
      pointer-events: none;
      background: radial-gradient(circle, hsl(var(--accent-hue) 80% 70% / 0.24), transparent 60%);
      mix-blend-mode: screen;
      transform: translate(-50%, -50%);
      z-index: 2;
    }

    [data-theme="dark"] .focus-light {
      background: radial-gradient(circle, hsl(var(--accent-hue) 80% 70% / 0.32), transparent 60%);
      mix-blend-mode: lighten;
    }

    .cursor {
      width: 18px;
      height: 18px;
      border: 1px solid var(--accent);
      border-radius: 50%;
      position: fixed;
      pointer-events: none;
      transform: translate(-50%, -50%);
      background: radial-gradient(circle, hsl(var(--accent-hue) 90% 80% / 0.6), transparent 60%);
      box-shadow: 0 0 18px hsl(var(--accent-hue) 90% 70% / 0.35);
      mix-blend-mode: screen;
      z-index: 999;
    }

    .cursor::before,
    .cursor::after {
      content: "";
      position: absolute;
      background: var(--accent);
      opacity: 0.6;
    }

    .cursor::before { width: 10px; height: 1px; top: 50%; left: 4px; }
    .cursor::after { width: 1px; height: 10px; left: 50%; top: 4px; }

    @media (max-width: 900px) {
      header { grid-template-columns: 1fr; }
      .socials { justify-content: flex-start; }
      .blob { width: 150px; height: 150px; font-size: 1.05rem; }
      .panel { inset: 6% 6%; }
    }

    @media (max-width: 600px) {
      .wrap { padding: 28px 14px; gap: 10px; }
      .blob {
        width: 132px;
        height: 132px;
        font-size: 0.98rem;
      }
      .panel { inset: 5% 5%; }
    }

    @media (prefers-reduced-motion: reduce) {
      .focus-light,
      .cursor { display: none; }
      .nebula { animation: none; }
    }
  </style>
</head>
<body>
  <div class="nebula" aria-hidden="true"></div>
  <div class="scanlines" aria-hidden="true"></div>
  <div class="film-grain" aria-hidden="true"></div>
  <div class="focus-light" aria-hidden="true"></div>
  <div class="cursor" aria-hidden="true"></div>
  <div class="wrap">
    <header>
      <div>
        <h1>hey, i'm shirali.</h1>
        <p class="subhead">i'm building crash-test dummies for ai at <a href="https://www.circuitbreakerlabs.ai/" target="_blank" rel="noreferrer">Circuit Breaker Labs</a>.</p>
      </div>
      <div class="socials" aria-label="social links">
        <a href="https://github.com/itismeshirali" target="_blank" rel="noreferrer" aria-label="github">
          <svg viewBox="0 0 24 24" aria-hidden="true" fill="currentColor">
            <path d="M12 2C6.48 2 2 6.58 2 12.26c0 4.5 2.87 8.31 6.84 9.65.5.1.68-.22.68-.49 0-.24-.01-.88-.01-1.73-2.78.62-3.37-1.37-3.37-1.37-.45-1.18-1.11-1.49-1.11-1.49-.9-.63.07-.62.07-.62 1 .07 1.53 1.07 1.53 1.07.89 1.56 2.34 1.11 2.91.85.09-.66.35-1.11.64-1.36-2.22-.26-4.56-1.14-4.56-5.08 0-1.12.39-2.04 1.03-2.76-.1-.26-.45-1.3.1-2.7 0 0 .84-.27 2.75 1.05a9.3 9.3 0 0 1 2.5-.35c.85 0 1.71.12 2.5.35 1.9-1.32 2.74-1.05 2.74-1.05.55 1.4.2 2.44.1 2.7.64.72 1.03 1.64 1.03 2.76 0 3.95-2.34 4.82-4.57 5.07.36.32.68.94.68 1.9 0 1.37-.01 2.47-.01 2.8 0 .27.18.6.69.49 3.96-1.34 6.83-5.15 6.83-9.65C22 6.58 17.52 2 12 2z" />
          </svg>
        </a>
        <a href="https://x.com/NigamShirali" target="_blank" rel="noreferrer" aria-label="x">
          <svg viewBox="0 0 24 24" aria-hidden="true" fill="currentColor">
            <path d="M18.9 3H22l-7.35 8.4L23 21h-6.1l-4.78-5.7L6.4 21H3.3l7.86-8.98L1 3h6.2l4.32 5.18L18.9 3zm-1.07 16h1.92L7.22 5h-2.1l12.61 14z" />
          </svg>
        </a>
        <a href="https://www.linkedin.com/in/shirali-nigam" target="_blank" rel="noreferrer" aria-label="linkedin">
          <svg viewBox="0 0 24 24" aria-hidden="true" fill="currentColor">
            <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.047c.477-.9 1.637-1.85 3.37-1.85 3.6 0 4.268 2.37 4.268 5.455v6.286zM5.337 7.433a2.062 2.062 0 1 1 0-4.124 2.062 2.062 0 0 1 0 4.124zM6.714 20.452H3.96V9h2.754v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.727v20.545C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.273V1.727C24 .774 23.2 0 22.222 0h.003z" />
          </svg>
        </a>
      </div>
    </header>

    <section class="orbital" id="orbital">
      <button class="blob" data-panel="gwu" type="button"><span>gwu</span></button>
      <button class="blob" data-panel="wharton" type="button"><span>wharton</span></button>
      <button class="blob" data-panel="vc" type="button"><span>vc</span></button>
      <button class="blob" data-panel="deloitte" type="button"><span>deloitte</span></button>
      <button class="blob" data-panel="research" type="button"><span>research</span></button>
      <button class="blob" data-panel="side-quests" type="button"><span>side quests</span></button>

      <section class="panel" id="panel" aria-live="polite">
        <div class="panel-head">
          <h2 class="panel-title" id="panelTitle">the george washington university</h2>
          <button class="panel-close" type="button" id="panelClose">close</button>
        </div>
        <div id="panelBody"></div>
      </section>
    </section>

    <footer>
      restaurant recs for sf, ny, or dc? send them to shirali [at] nigam [dot] com<br>follow my foodstagram: <a href="https://instagram.com/cardayum" target="_blank" rel="noreferrer">@cardayum</a>
    </footer>
  </div>

  <button class="mode-toggle" type="button" id="modeToggle" aria-label="toggle theme">
    <svg class="icon-sun" viewBox="0 0 24 24" aria-hidden="true" fill="currentColor">
      <path d="M12 4.5a1 1 0 0 1 1 1V7a1 1 0 1 1-2 0V5.5a1 1 0 0 1 1-1zm0 10a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5zM5.5 11a1 1 0 1 1 0 2H4a1 1 0 1 1 0-2h1.5zm14.5 0a1 1 0 1 1 0 2H18.5a1 1 0 1 1 0-2H20zM7.05 6.05a1 1 0 0 1 1.41 0l1.06 1.06a1 1 0 1 1-1.41 1.41L7.05 7.46a1 1 0 0 1 0-1.41zm9.84 9.84a1 1 0 0 1 1.41 0l1.06 1.06a1 1 0 1 1-1.41 1.41l-1.06-1.06a1 1 0 0 1 0-1.41zM16.89 6.05a1 1 0 0 1 0 1.41l-1.06 1.06a1 1 0 1 1-1.41-1.41l1.06-1.06a1 1 0 0 1 1.41 0zM8.52 16.89a1 1 0 0 1 0 1.41l-1.06 1.06a1 1 0 1 1-1.41-1.41l1.06-1.06a1 1 0 0 1 1.41 0z" />
    </svg>
    <svg class="icon-moon" viewBox="0 0 24 24" aria-hidden="true" fill="currentColor">
      <path d="M20.5 14.5A8.5 8.5 0 0 1 9.5 3.5a8.6 8.6 0 1 0 11 11z" />
    </svg>
  </button>
  <template id="gwu-template">
    <div class="stack">
      <p><strong>education:</strong> Bachelor of Science - BS, Bioengineering and Biomedical Engineering (Magna Cum Laude). Minor: Electrical Engineering.</p>
      <p><strong>leadership:</strong> President - Tau Beta Pi Honor Society; Internal Advisory Board Member - SEAS Center for Women in Engineering; 2-Term President - Biomedical Engineering Society; President - Me to We GW, WE Charity; Student Ambassador - George Hacks; Treasurer - Transfer Student Organization.</p>
      <p><strong>research:</strong> Undergraduate Researcher (Sep 2017 - May 2019). Ideated and authored individual research proposal; awarded $6,000 grant to study cholinergic neurons, coronary vasodilation, and cardiac contractility.</p>
      <p><strong>role:</strong> Physics Department | Learning Assistant (Jan 2018 - Jun 2018).</p>
      <p><strong>McAllister &amp; Quinn</strong> (Sep 2019 - Dec 2019). Healthcare &amp; Research Universities Practice Intern. Analyzed federal health budgets, NIH grant programs, and appropriations to inform strategy; authored concept papers advising clients on aligning proposals with evolving federal research priorities.</p>
    </div>
  </template>
  <template id="wharton-template">
    <div class="stack">
      <p><strong>education:</strong> Master of Business Administration - MBA.</p>
      <p><strong>majors:</strong> Entrepreneurship &amp; Innovation | Operations, Information and Decisions.</p>
      <p><strong>leadership:</strong> Wharton Graduate Association - VP of Leadership, Communications Fellow, Wharton People Analytics - Applied Insights Team, Wharton Coffee Club - VP of Partnerships, Wharton Health Care Business Conference - Content Committee.</p>
      <p><strong>member:</strong> PE/VC Club, Women in Investing, Dance Studio, Sailing Club, Wine Club.</p>
    </div>
  </template>
  <template id="vc-template">
    <div class="stack">
      <p><strong>Redbud Brands (Venture Intern, Sep 2023 - Apr 2024):</strong> Conducted rigorous market research to identify mission-aligned investment opportunities across consumer categories; supported due diligence and pitch preparation for investment committee review.</p>
      <p><strong>Raisewell Ventures (Summer Associate, Jun 2023 - Aug 2023):</strong> Spearheaded launch of global pre-seed/seed fund focused on healthcare, climate, and supply chains. Drove deal sourcing, due diligence, and investment memos to build pre-launch pipeline. Built fund size and capital deployment models. Identified and prepared pitches for mission-aligned LPs including international organizations and government entities.</p>
    </div>
  </template>
  <template id="deloitte-template">
    <div class="stack">
      <p>Devised and executed data strategy for state government client's COVID-19 response and vaccine distribution to 300K residents across 10K long-term care facilities as the Data &amp; Testing Lead. Formulated financial model incorporating 11 performance indicators to allocate and disburse &gt;$20 million of incentive funding.</p>
      <p>Spearheaded productization of healthcare quality monitoring tool, winning 3 additional state contracts within two years. Acquired new business valued at $16 million as technical proposal co-author.</p>
      <p>Led an 8-person team to create a tool to nationally compare Medicaid/Medicare patient satisfaction for an $8 billion program. Collaborated with Deputy Secretaries and Directors to visualize &gt;25 healthcare quality, accessibility, and financial metrics. Recognized by senior management for outstanding performance with 11 monetary 'Applause Awards.'</p>
    </div>
  </template>
  <template id="research-template">
    <div class="stack">
      <p><strong>Howard Hughes Medical Institute (Research Assistant, Jan 2017 - Dec 2021):</strong> Performed statistical, data, and image analysis using MATLAB, Vaa3D, and ImageJ; prepared brain samples to support Group Leader, Dr. Na Jis research on advanced in vivo optical imaging of neural circuits.</p>
      <p><strong>Harvard University Wyss Institute (Research Assistant, Jun 2019 - Sep 2019):</strong> Worked on DARPA military health contracts supporting research led by Dr. Donald Ingber, Founding Director of the Wyss Institute. Developed point-of-care TLP-FcMBL probes, vascular shunts, magnetic levitation devices, and liposome synthesis. Selected to deliver a podium presentation to 100+ industry and academic experts at the Biomedical Engineering Society.</p>
      <p><strong>National Institutes of Health (Shadow, Jan 2017 - Jan 2018):</strong> Shadowed Dr. Bibiana Bielekova (PI at NIH NINDS), observing neurological exams and lumbar punctures in Multiple Sclerosis patients enrolled in Phase I/II trials on immunoregulation and biomarker discovery.</p>
      <p><strong>Johns Hopkins Hospital (Research Assistant &amp; Shadow, Jul 2014 - Sep 2017):</strong> Shadowed Dr. Robert Wood (Director of Pediatric Allergy and Immunology and Professor of Pediatrics) for 320+ hours, gaining clinical experience and an understanding of healthcare delivery in global populations. Supported research on asthma and allergy risk factors in inner-city children.</p>
    </div>
  </template>
  <template id="side-quests-template">
    <div class="stack">
      <p>Heroes of COVID</p>
      <p>AllergySmartz</p>
      <p>FoodAllergyLowdown</p>
    </div>
  </template>

  <script>
    (function () {
      const root = document.documentElement;
      const randomizePalette = () => {
        const hue = Math.floor(Math.random() * 360);
        const accent = (hue + 30 + Math.floor(Math.random() * 40)) % 360;
        root.style.setProperty("--main-hue", hue.toString());
        root.style.setProperty("--accent-hue", accent.toString());
      };
      randomizePalette();
      root.dataset.paletteRandom = "true";
      window.__randomizePalette = randomizePalette;
    })();

    (function () {
      const toggle = document.getElementById("modeToggle");
      if (!toggle) return;

      const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
      const stored = localStorage.getItem("theme");
      const initial = stored || (prefersDark ? "dark" : "light");

      const applyTheme = (theme) => {
        document.documentElement.setAttribute("data-theme", theme);
        toggle.setAttribute("aria-pressed", theme === "dark");
      };

      applyTheme(initial);

      toggle.addEventListener("click", () => {
        const next = document.documentElement.getAttribute("data-theme") === "dark" ? "light" : "dark";
        localStorage.setItem("theme", next);
        applyTheme(next);
      });
    })();

    (function () {
      const cursor = document.querySelector(".cursor");
      const focus = document.querySelector(".focus-light");
      if (!cursor || !focus) return;

      let mouseX = window.innerWidth / 2;
      let mouseY = window.innerHeight / 2;
      let currentX = mouseX;
      let currentY = mouseY;
      const ease = 0.14;

      const onMove = (event) => {
        mouseX = event.clientX;
        mouseY = event.clientY;
      };

      window.addEventListener("mousemove", onMove, { passive: true });

      const animate = () => {
        currentX += (mouseX - currentX) * ease;
        currentY += (mouseY - currentY) * ease;
        cursor.style.left = `${currentX}px`;
        cursor.style.top = `${currentY}px`;
        focus.style.left = `${currentX}px`;
        focus.style.top = `${currentY}px`;
        requestAnimationFrame(animate);
      };

      requestAnimationFrame(animate);
    })();

    (function () {
      const blobs = Array.from(document.querySelectorAll(".blob"));
      const panel = document.getElementById("panel");
      const panelTitle = document.getElementById("panelTitle");
      const panelBody = document.getElementById("panelBody");
      const panelClose = document.getElementById("panelClose");
      const orbital = document.getElementById("orbital");
      const prefersReduced = window.matchMedia("(prefers-reduced-motion: reduce)").matches;

      const templates = {
        gwu: document.getElementById("gwu-template"),
        wharton: document.getElementById("wharton-template"),
        vc: document.getElementById("vc-template"),
        deloitte: document.getElementById("deloitte-template"),
        research: document.getElementById("research-template"),
        "side-quests": document.getElementById("side-quests-template")
      };

      const titles = {
        gwu: "the george washington university",
        wharton: "the wharton school",
        vc: "venture capital",
        deloitte: "deloitte (consultant, jul 2020 - jul 2022)",
        research: "research experience",
        "side-quests": "side quests"
      };

      const basePositions = {
        gwu: [0.12, 0.2],
        wharton: [0.5, 0.16],
        vc: [0.78, 0.24],
        deloitte: [0.18, 0.68],
        research: [0.5, 0.72],
        "side-quests": [0.78, 0.66]
      };

      const state = new Map();

      const setActive = (key) => {
        blobs.forEach((blob) => blob.classList.toggle("active", blob.dataset.panel === key));
        panelTitle.textContent = titles[key] || key;
        panelBody.innerHTML = "";
        const fragment = templates[key].content.cloneNode(true);
        panelBody.appendChild(fragment);
        panel.classList.add("active");
      };

      const clearActive = () => {
        blobs.forEach((blob) => blob.classList.remove("active"));
        panel.classList.remove("active");
      };

      blobs.forEach((blob) => {
        blob.addEventListener("click", () => {
          const key = blob.dataset.panel;
          setActive(key);
        });
      });

      panelClose.addEventListener("click", clearActive);
      window.addEventListener("keydown", (event) => {
        if (event.key === "Escape") clearActive();
      });

      const initPhysics = () => {
        const rect = orbital.getBoundingClientRect();
        blobs.forEach((blob) => {
          const key = blob.dataset.panel;
          const [nx, ny] = basePositions[key] || [Math.random(), Math.random()];
          const w = blob.offsetWidth;
          const h = blob.offsetHeight;
          const x = Math.max(0, Math.min((rect.width - w) * nx, rect.width - w));
          const y = Math.max(0, Math.min((rect.height - h) * ny, rect.height - h));
          const speed = 12 + Math.random() * 10;
          const angle = Math.random() * Math.PI * 2;
          state.set(blob, {
            x,
            y,
            vx: Math.cos(angle) * speed,
            vy: Math.sin(angle) * speed,
            w,
            h
          });
          blob.style.setProperty("--tx", `${x}px`);
          blob.style.setProperty("--ty", `${y}px`);
        });
      };

      const handleCollisions = () => {
        for (let i = 0; i < blobs.length; i += 1) {
          const a = state.get(blobs[i]);
          if (!a) continue;
          const ax = a.x + a.w / 2;
          const ay = a.y + a.h / 2;
          const ar = Math.min(a.w, a.h) / 2;
          for (let j = i + 1; j < blobs.length; j += 1) {
            const b = state.get(blobs[j]);
            if (!b) continue;
            const bx = b.x + b.w / 2;
            const by = b.y + b.h / 2;
            const br = Math.min(b.w, b.h) / 2;
            const dx = bx - ax;
            const dy = by - ay;
            const dist = Math.hypot(dx, dy);
            const minDist = ar + br;
            if (dist === 0 || dist >= minDist) continue;

            const nx = dx / dist;
            const ny = dy / dist;
            const overlap = minDist - dist;

            a.x -= nx * overlap * 0.5;
            a.y -= ny * overlap * 0.5;
            b.x += nx * overlap * 0.5;
            b.y += ny * overlap * 0.5;

            const dvx = a.vx - b.vx;
            const dvy = a.vy - b.vy;
            const vn = dvx * nx + dvy * ny;
            if (vn > 0) continue;

            a.vx -= vn * nx;
            a.vy -= vn * ny;
            b.vx += vn * nx;
            b.vy += vn * ny;
          }
        }
      };

      const updatePhysics = (dt) => {
        const rect = orbital.getBoundingClientRect();
        let wallHit = false;

        blobs.forEach((blob) => {
          const item = state.get(blob);
          if (!item) return;
          item.x += item.vx * dt;
          item.y += item.vy * dt;

          const maxX = rect.width - item.w;
          const maxY = rect.height - item.h;

          if (item.x <= 0) {
            item.x = 0;
            item.vx = Math.abs(item.vx);
            wallHit = true;
          } else if (item.x >= maxX) {
            item.x = maxX;
            item.vx = -Math.abs(item.vx);
            wallHit = true;
          }

          if (item.y <= 0) {
            item.y = 0;
            item.vy = Math.abs(item.vy);
            wallHit = true;
          } else if (item.y >= maxY) {
            item.y = maxY;
            item.vy = -Math.abs(item.vy);
            wallHit = true;
          }
        });

        if (wallHit && window.__randomizePalette) {
          window.__randomizePalette();
        }

        handleCollisions();

        blobs.forEach((blob) => {
          const item = state.get(blob);
          if (!item) return;
          blob.style.setProperty("--tx", `${item.x}px`);
          blob.style.setProperty("--ty", `${item.y}px`);
        });
      };

      let last = performance.now();
      const animate = (now) => {
        const dt = Math.min(0.033, (now - last) / 1000);
        last = now;
        if (!prefersReduced) updatePhysics(dt);
        requestAnimationFrame(animate);
      };

      initPhysics();
      requestAnimationFrame(animate);
      window.addEventListener("resize", initPhysics);
    })();
  </script>
</body>
</html>














